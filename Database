import java.util.ArrayList;
import java.util.List;

public class Database {

    private List<Membership> memberships = new ArrayList<>();

    //add new memberships to the Database, used for testing
    //pre: needs the barcode, status, (optional) expiration //post: add to the list of memberships
    public void addMembership(Membership membership) {
        memberships.add(membership);
    }


    //find a membership in the database based on barcode
    //pre:needs a valid barcode (5 digit number) //post: find corresponding membership
    public Membership findMembership(int barcode) {
        for (int i = 0; i < memberships.size(); i++) {
            if (memberships.get(i).getBarcode() == barcode) {
                // Return the membership with the barcode
                return memberships.get(i);
            }
        }
        return null;
    }

    //this will help for debugging to view if the methods work
      public void showMemberships() {
        for(int i = 0; i < memberships.size(); i++) {
            Membership membership = memberships.get(i);
            System.out.println("Barcode: " + membership.getBarcode() + ", Status: " + membership.getStatus());
            //System.out.print(", Expiration: " + membership.getExpiration());
        }
    }

    //this will cancel the membership based on the barcode, will call to the membership class for the status
        //pre:needs a barcode to check the membership in the database
        //post: if membership is found, will cancel the membership, if not then membership is not in the system/invalid
        public void cancelMembership(int barcode) {
            Membership custMembership =  findMembership(barcode);
            if (custMembership != null) {
                custMembership.cancelMembership();
            } else {
                System.out.println("Barcode: " + barcode + " is invalid");
            }
    
        }
}
